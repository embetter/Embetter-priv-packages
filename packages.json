{
    "version": 1,
    "index_name": "radia-lite-package-index",
    "devices": [
        {
            "name": "MerryIoT-Hostpot-Miner-V1",
            "packages": [
                {
                    "name": "postgres",
                    "required_system_dependencies": [
                        {
                            "name" : "docker",
                            "dep_type": "run_cmd",
                            "data": {
                                "cmd" : "docker --version",
                                "check_type" : "success_return_code"
                            }
                        }
                    ],
                    "install_instructions": [
                        {
                            "op": "fetch_and_run_template_script",
                            "data": {
                                "template_script_url" : "https://raw.githubusercontent.com/embetter/Embetter-priv-packages/main/install_postgres.hbs",
                                "input_template_variables" : [{
                                    "name" : "db_pass",
                                    "label" : "Database Password",
                                    "type" : "string"
                                }]
                            }
                        }
                    ],
                    "uninstall_instructions": [
                        {
                            "op": "fetch_and_run_script",
                            "data": {
                                "script_url" : "https://raw.githubusercontent.com/embetter/Embetter-priv-packages/main/uninstall_postgres.sh"
                            }
                        }
                    ],
                    "status_instructions": [
                        {
                            "output_name": "Docker Image Status",
                            "instructions": [
                                {
                                    "op": "run_cmd",
                                    "cmd": "docker image ...."
                                }
                            ]
                        },
                        {
                            "output_name": "Docker Container Status",
                            "instructions": [
                                {
                                    "op": "run_cmd",
                                    "cmd": "docker ps --format 'json' --filter 'name=pg' | jq '.State'"
                                }
                            ]
                        }
                    ]
                },
                {
                    "name":"ator",
                    "required_system_dependencies":[
                        {
                            "type":"deb"
                        }
                    ],
                    "install_instructions":[
                        {
                            "op":"https://raw.githubusercontent.com/embetter/Embetter-priv-packages/main/install_ator.sh",
                            "data": {
                                "image": "ator"
                            }
                        }
                    ]

                }
            ]
        }
    ]
}
