{
    "version": 1,
    "index_name": "radia-lite-package-index",
    "devices": [
        {
            "name": "emrit_merryiot_devices",
            "packages": [
                {
                    "name": "postgres",
                    "required_system_dependencies": [
                        {
                            "dep_type": "docker",
                            "name":"docker",
                        },
                    ],
                    "install_instructions": [
                        {
                            "op": "https://raw.githubusercontent.com/embetter/Embetter-priv-packages/main/install_postgres.hbs",
                            "data": {
                                "image": "postgres:15.2"
                            }
                        },
                        {
                            "op": "run_docker_container",
                            "data": {
                                "image": "postgres:15.2",
                                "container_name": "pg",
                                "env_vars": {
                                    "DEFAULT_DB": "radia"
                                },
                                "secrets": [
                                    "secret1",
                                    "secret2"
                                ]
                            }
                        }
                    ],
                    "uninstall_instructions": [
                        {
                            "op": "https://raw.githubusercontent.com/embetter/Embetter-priv-packages/main/uninstall_postgres.sh",
                            "data": {
                                "name": "pg"
                            }
                        },
                        {
                            "op": "rm_docker_image",
                            "data": {
                                "image": "postgres:15.2"
                            }
                        }
                    ],
                    "status_instructions": [
                        {
                            "output_name": "Docker Image Status",
                            "instructions": [
                                {
                                    "op": "run_cmd",
                                    "cmd": "docker image ......"
                                }
                            ]
                        },
                        {
                            "output_name": "Docker Container Status",
                            "instructions": [
                                {
                                    "op": "run_cmd",
                                    "cmd": "docker ps --format 'json' --filter 'name=pg' | jq '.State'"
                                }
                            ]
                        }
                    ]
                },
                {
                    "name":"ator",
                    "required_system_dependencies":[
                        {
                            "type":"deb"
                        }
                    ],
                    "install_instructions":[
                        {
                            "op":"https://raw.githubusercontent.com/embetter/Embetter-priv-packages/main/install_ator.sh",
                            "data": {
                                "image": "ator"
                            }
                        }
                    ]
                    
                }   
            ]
        }
    ]
}
